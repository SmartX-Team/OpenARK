---
apiVersion: kubegraph.ulagbulag.io/v1alpha1
kind: NetworkConnector
metadata:
  name: minio
  namespace: kubegraph
spec:
  metadata:
    name: bucket
    supply: value
  prometheus:
    url: http://kube-prometheus-stack-prometheus.monitoring.svc:9090
    template:
      type: Node
      query: >
        sum by (namespace, bucket)
        (bucket_usage_size{service="minio"})
      consts:
        storageType: s3
        storageVendor: minio
